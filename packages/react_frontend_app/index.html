<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + React</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lacquer&display=swap" rel="stylesheet">

  <!-- Google auth0 -->
  <script src="https://accounts.google.com/gsi/client" async></script>

  <script>
    function decodeJWT(token) {

      let base64Url = token.split(".")[1];
      let base64 = base64Url.replace(/-/g, "+").replace(/_/g, "/");
      let jsonPayload = decodeURIComponent(
        atob(base64)
          .split("")
          .map(function (c) {
            return "%" + ("00" + c.charCodeAt(0).toString(16)).slice(-2);
          })
          .join("")
      );
      return JSON.parse(jsonPayload);
    }

    function handleCredentialResponse(response) {

      console.log("Encoded JWT ID token: " + response.credential);

      const responsePayload = decodeJWT(response.credential);

      console.log("Decoded JWT ID token fields:");
      console.log("  Full Name: " + responsePayload.name);
      console.log("  Given Name: " + responsePayload.given_name);
      console.log("  Family Name: " + responsePayload.family_name);
      console.log("  Unique ID: " + responsePayload.sub);
      console.log("  Profile image URL: " + responsePayload.picture);
      console.log("  Email: " + responsePayload.email);
    }
  </script>

</head>

<body>
  <!-- g_id_onload contains Google Identity Services settings -->
  <div id="g_id_onload" data-auto_prompt="false" data-callback="handleCredentialResponse"
    data-client_id="945905776134-1scvn29a137jkdghbukadhe7jb4hmb9r.apps.googleusercontent.com"></div>
  <!-- g_id_signin places the button on a page and supports customization -->
  <div class="g_id_signin"></div>


  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>


</body>

</html>
